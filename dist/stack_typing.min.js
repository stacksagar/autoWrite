class stack_typing{constructor(t,e,n,i,s,l){this.all_sentence=e,this.output_element=t,this.iterationCount=l,this.current_sentence="",this.output_sentence="",this.removing_sentence=!1,this.write_speed=n,this.remove_speed=i,this.wait_speed=s,this.current_speed=0,this.initial_index=0,this.current_index=0,this.round=0}writting(){this.output_sentence=this.current_sentence.substr(0,this.output_sentence.length+1)}removing(){this.output_sentence=this.current_sentence.substr(0,this.output_sentence.length-1)}typing(){this.current_index=this.initial_index%this.all_sentence.length,this.current_sentence=this.all_sentence[this.current_index],this.removing_sentence?(this.removing(),this.current_speed=this.remove_speed):(this.writting(),this.current_speed=this.write_speed),this.output_sentence.length>1&&(this.output_element.parentElement.children.item(2).style.display="unset"),this.output_sentence==this.current_sentence?(this.removing_sentence=!0,this.current_speed=this.wait_speed,this.output_element.parentElement.children.item(2).style.display="none",setTimeout(()=>{this.expand_div.animate([{transform:"scaleY(100%)"},{transform:"scaleY(0%)"}],{duration:500,iterations:"Infinity",direction:"alternate"}),setTimeout(()=>{this.expand_div.animate([{transform:"scaleY(100%)"},{transform:"scaleY(100%)"}],{duration:1e3,iterations:"Infinity",direction:"alternate"})},this.wait_speed-250)},50)):""==this.output_sentence&&(this.removing_sentence=!1,this.initial_index++),this.makeOutput(),this.timeout=setTimeout(()=>this.typing(),this.current_speed),this.clearTimeout()}makeOutput(){this.applyStyle();const t=this.output_sentence.split("").map(t=>`<span class="typing_character">${t}</span>`);if(this.output_element.innerHTML='<span style="padding:0.1px"></span>'+t.join(""),this.output_element.parentElement.childElementCount<2){const t=document.createElement("div");t.style.position="absolute",t.style.top=0,t.style.transition="all .15s",t.className="write_expand",t.innerText="|",this.expand_div=t,this.output_element.parentElement.appendChild(t);const e=document.createElement("div");e.className+="all_stars",e.style.position="absolute",e.style.bottom="101%",e.style.fontSize="5px",e.style.width="30px",e.style.height="30px",e.style.display="none",e.animate([{opacity:".10"},{opacity:".70"}],{duration:1e3,iterations:"Infinity",direction:"alternate"}),this.stars_div=e;for(let t=0;t<25;t++)e.innerHTML+='<small class="stack_star">*</small>';this.output_element.parentElement.appendChild(e)}this.stars_div.style.left=this.output_element.clientWidth-10+"px",this.expand_div.style.left=this.output_element.clientWidth+"px",document.querySelectorAll(".stack_star").forEach((t,e)=>{t.style.position="absolute",t.style.transition="all .4s",t.style.top=Math.round(40*Math.random())+"px",t.style.right=Math.round(40*Math.random())+"px"})}applyStyle(){this.output_element.parentElement.style.position="relative",this.output_element.style.display="inline-block"}clearTimeout(){this.all_sentence[this.all_sentence.length-1]==this.current_sentence&&this.current_sentence==this.output_sentence&&this.iterationCount&&(this.round++,this.round==this.iterationCount&&(clearTimeout(this.timeout),this.expand_div.style.display="none"))}}document.querySelectorAll(".stack_typing").forEach(t=>{t.style.margin="0px",t.style.padding="0px";const{writeSpeed:e,removeSpeed:n,waitSpeed:i,iterationCount:s}=t.dataset,l=[];t.children.item(0).childNodes.forEach(t=>{t.textContent.trim().length&&l.push(t.textContent.trim())}),new stack_typing(t.children.item(0),l,e,n,i,s).typing()});